(function(t){function e(e){for(var o,a,i=e[0],u=e[1],s=e[2],f=0,d=[];f<i.length;f++)a=i[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},c=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/snake-vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"7e8a":function(t,e,n){},bb2c:function(t,e,n){"use strict";n("7e8a")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(t,e,n,r,c,a){var i=Object(o["m"])("GameArena"),u=Object(o["m"])("GameControls");return Object(o["g"])(),Object(o["c"])(o["a"],null,[Object(o["d"])(i,{config:t.gameConfig.arenaConfig,"meal-positions":t.mealPositions,"snake-positions":t.snakePositions,onEat:t.eat},null,8,["config","meal-positions","snake-positions","onEat"]),Object(o["d"])(u,{onSetDirection:t.setDirection},null,8,["onSetDirection"])],64)}n("99af"),n("cb29"),n("4de4"),n("d81d");var c=n("2909"),a=Object(o["p"])("data-v-db6cdc90");Object(o["i"])("data-v-db6cdc90");var i={class:"arena"};Object(o["h"])();var u=a((function(t,e,n,r,c,a){return Object(o["g"])(),Object(o["c"])("div",i,[(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["l"])(t.arenaMatrix,(function(t,e){return Object(o["g"])(),Object(o["c"])("div",{key:e,class:"arena__row"},[(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["l"])(t,(function(t,e){return Object(o["g"])(),Object(o["c"])("div",{key:e,class:"arena__cell arena__".concat(t)},null,2)})),128))])})),128))])})),s=(n("4160"),n("159b"),{width:32,height:32});function l(t){for(var e=t||{},n=e.arenaConfig,o=void 0===n?s:n,r=e.mealPositions,c=void 0===r?[]:r,a=e.snakePositions,i=void 0===a?[]:a,u=Array(o.height),l=null,f=0;f<o.height;f+=1)for(var d=0;d<o.width;d+=1)Array.isArray(u[f])||(u[f]=[]),u[f][d]="empty";return c.forEach((function(t){var e=t.x,n=t.y;u[n][e]="meal"})),i.forEach((function(t){var e=t.x,n=t.y;"meal"===u[n][e]&&(l={x:e,y:n}),u[n][e]="snake"})),{arenaMatrix:u,eatenMealPosition:l}}var f=Object(o["e"])({name:"GameArena",props:{config:{type:Object,default:function(){return{width:32,height:32}}},snakePositions:{type:Array,default:function(){return[]}},mealPositions:{type:Array,default:function(){return[]}}},emits:["eat"],setup:function(t,e){var n=e.emit,r=Object(o["k"])([]),c=Object(o["n"])(t),a=c.snakePositions;function i(){var e=l({arenaConfig:t.config,mealPositions:t.mealPositions,snakePositions:t.snakePositions}),o=e.arenaMatrix,c=e.eatenMealPosition;r.value=o,c&&n("eat",c)}return Object(o["o"])(a,(function(){return i()})),Object(o["f"])((function(){return i()})),{arenaMatrix:r}}});n("bb2c");f.render=u,f.__scopeId="data-v-db6cdc90";var d=f,b=Object(o["p"])("data-v-ff2f01e8");Object(o["i"])("data-v-ff2f01e8");var v={class:"controls"},p={class:"controls__middle"},h=Object(o["d"])("div",{class:"controls__button controls__button--empty"},"   ",-1);Object(o["h"])();var g=b((function(t,e,n,r,c,a){return Object(o["g"])(),Object(o["c"])("div",v,[Object(o["d"])("button",{ref:"up",class:"controls__button","data-testid":"up-button",onClick:e[1]||(e[1]=function(e){return t.clickButton("up",e)})}," ↑ ",512),Object(o["d"])("div",p,[Object(o["d"])("button",{ref:"left",class:"controls__button","data-testid":"left-button",onClick:e[2]||(e[2]=function(e){return t.clickButton("left",e)})}," ← ",512),h,Object(o["d"])("button",{ref:"right",class:"controls__button","data-testid":"right-button",onClick:e[3]||(e[3]=function(e){return t.clickButton("right",e)})}," → ",512)]),Object(o["d"])("button",{ref:"down",class:"controls__button","data-testid":"down-button",onClick:e[4]||(e[4]=function(e){return t.clickButton("down",e)})}," ↓ ",512)])})),O=Object(o["e"])({name:"GameControls",emits:["set-direction"],setup:function(t,e){var n=Object(o["k"])(null),r=Object(o["k"])(null),c=Object(o["k"])(null),a=Object(o["k"])(null),i={ArrowLeft:c,ArrowUp:n,ArrowRight:r,ArrowDown:a};function u(t){e.emit("set-direction",t)}return Object(o["f"])((function(){document.addEventListener("keydown",(function(t){var e=i[t.code]&&i[t.code].value;e&&e.click()}))})),{setDirection:u,up:n,right:r,left:c,down:a}},methods:{clickButton:function(t,e){this.setDirection(t);var n=e.target;n.classList.add("controls__button--pressed"),setTimeout((function(){n.classList.remove("controls__button--pressed")}),200)}}});n("e761");O.render=g,O.__scopeId="data-v-ff2f01e8";var j=O,m={arenaConfig:{width:28,height:24},snakeConfig:{length:4}},y=[{x:10,y:1},{x:11,y:1},{x:12,y:1},{x:13,y:1}],w={left:"right",right:"left",up:"down",down:"up"};function k(t,e){return w[t]===e?e:t||e}var _=n("5530");function x(t,e,n){var o,r,c="Ouch!";switch(e){case"up":if(r=t.y-1,r<0)throw new Error(c);return Object(_["a"])(Object(_["a"])({},t),{},{y:r});case"down":if(r=t.y+1,r>n.height-1)throw new Error(c);return Object(_["a"])(Object(_["a"])({},t),{},{y:r});case"right":if(o=t.x+1,o>n.width-1)throw new Error(c);return Object(_["a"])(Object(_["a"])({},t),{},{x:o});case"left":if(o=t.x-1,o<0)throw new Error(c);return Object(_["a"])(Object(_["a"])({},t),{},{x:o});default:return t}}function P(t,e,n){var o=Object(c["a"])(t),r=t[t.length-1],a=x(r,e,n.arenaConfig);return o.push(a),o.length>n.snakeConfig.length&&o.shift(),o}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:Math.floor(Math.random()/e*(t.width-1)),y:Math.floor(Math.random()/e*(t.height-1))}}var A=Object(o["e"])({name:"App",components:{GameArena:d,GameControls:j},setup:function(){var t=Object(o["j"])(m),e=Object(o["k"])("right"),n=Object(o["k"])(void 0),r=Object(o["k"])([]),a=Object(o["k"])(y);function i(t){e.value=k(t,e.value)}function u(e){r.value=[].concat(Object(c["a"])(r.value.filter((function(t){var n=t.x,o=t.y;return!(n===e.x&&o===e.y)}))),[C(t.arenaConfig)]),t.snakeConfig.length+=1}function s(){clearInterval(n.value),n.value=void 0}function l(){r.value=Array(3).fill(null).map((function(e,n){return C(t.arenaConfig,n+1)}))}function f(){n.value=setInterval((function(){try{a.value=P(a.value,e.value,t)}catch(n){s(),alert(n.message)}}),300)}return Object(o["f"])((function(){l(),f()})),{eat:u,gameConfig:t,mealPositions:r,snakePositions:a,setDirection:i}}});A.render=r;var M=A,E=n("9483");Object(E["a"])("".concat("/snake-vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),Object(o["b"])(M).mount("#app")},e515:function(t,e,n){},e761:function(t,e,n){"use strict";n("e515")}});
//# sourceMappingURL=app.b9eb548f.js.map